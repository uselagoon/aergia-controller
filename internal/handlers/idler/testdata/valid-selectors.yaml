servicedeployments: &servicedeployments
  - name: "run"
    operator: "!="
    values:
      - "storage-calc"
  - name: "lagoon.sh/service"
    operator: "notin"
    values:
      - "cli"
  - name: "lagoon.sh/service-type"
    operator: "notin"
    values:
      - "mariadb-single"
      - "postgres-single"
      - "mongodb-single"
  - name: "lagoon.sh/jobType"
    operator: "notin"
    values:
      - "build"
  - name: "lagoon.sh/environment"
    operator: "exists"

clideployments: &clideployments
  - name: "job-name"
    operator: "!"
  - name: "lagoon.sh/service"
    operator: "in"
    values:
      - "cli"

cli:
  namespace:
    - name: "lagoon.sh/environmentType"
      operator: "in"
      values:
        - "production"
        - "development"
  builds:
    - name: "lagoon.sh/jobType"
      operator: "in"
      values:
        - "build"
  deployments: *clideployments
  pods: *clideployments
service:
  namespace:
    - name: "lagoon.sh/environmentType"
      operator: "in"
      values:
        - "development"
  builds:
    - name: "lagoon.sh/jobType"
      operator: "in"
      values:
        - "build"
  deployments: *servicedeployments
  pods: *servicedeployments
  ingress:
    - name: "lagoon.sh/autogenerated"
      operator: "exists"

namespaceselectorslabels:
  projectname: "lagoon.sh/project"
  environmentname: "lagoon.sh/environment"
  projectidling: "lagoon.sh/projectAutoIdle"
  environmentidling: "lagoon.sh/environmentAutoIdle"
  environmenttype: "lagoon.sh/environmentType"

servicename: "lagoon.sh/service"
